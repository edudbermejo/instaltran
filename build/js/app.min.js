(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

require('../features/credentials/login');

require('../features/inside');

angular.module('entry', ['credentials.login', 'inside']);

},{"../features/credentials/login":4,"../features/inside":8}],2:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

exports.default = function ($stateProvider, $urlRouterProvider) {
    'ngInject';

    $urlRouterProvider.otherwise('/login');

    $stateProvider.state('login', {
        url: '/login',
        templateUrl: 'src/features/credentials/login/template.html',
        controller: 'LoginController as lc'
    });
};

},{}],3:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

exports.default = function ($usersManager, $state) {
    'ngInject';

    var lc = this;

    lc.tryLogin = function () {
        $state.go('inside.timeline');
    };
};

},{}],4:[function(require,module,exports){
'use strict';

require('../../transversal/usersManager');

var _config = require('./config');

var _config2 = _interopRequireDefault(_config);

var _controller = require('./controller');

var _controller2 = _interopRequireDefault(_controller);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

angular.module('credentials.login', ['ui.router', 'transversal.usersManager']).config(_config2.default).controller('LoginController', _controller2.default);

},{"../../transversal/usersManager":14,"./config":2,"./controller":3}],5:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

exports.default = function () {
    return {
        bindings: {
            photo: '<'
        },
        template: 'src/features/inside/components/photoInList/template.html'
    };
};

},{}],6:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

exports.default = function ($stateProvider) {
    'ngInject';

    $stateProvider.state('inside', {
        url: '/inside',
        abstract: true,
        templateUrl: 'src/features/inside/template.html',
        controller: 'InsideController as ic'
    });
};

},{}],7:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

exports.default = function () {
    'ngInject';

    var ic = this;
};

},{}],8:[function(require,module,exports){
'use strict';

var _config = require('./config');

var _config2 = _interopRequireDefault(_config);

var _controller = require('./controller');

var _controller2 = _interopRequireDefault(_controller);

require('./timeline');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

angular.module('inside', ['ui.router', 'inside.timeline']).config(_config2.default).controller('InsideController', _controller2.default);

},{"./config":6,"./controller":7,"./timeline":11}],9:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

exports.default = function ($stateProvider) {
    'ngInject';

    $stateProvider.state('inside.timeline', {
        url: '/timeline',
        templateUrl: '/src/features/inside/timeline/template.html',
        controller: 'TimelineController as tc'
    });
};

},{}],10:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

exports.default = function ($externalCalls) {
    'ngInject';

    var tc = this;

    var _page = 1;

    tc.photos = [{
        user_id: 'usuario de prueba',
        image: 'img/prueba.png',
        likes: 123,
        title: 'Buh!'
    }, {
        user_id: 'usuario de prueba',
        image: 'img/prueba.png',
        likes: 123,
        title: 'Buh!'
    }];

    tc.photoss = $externalCalls.getPhotos(_page);

    tc.morePhotos = function () {
        _page++, tc.photos.push($externalCalls.getPhotos(_page));
    };
};

},{}],11:[function(require,module,exports){
'use strict';

var _config = require('./config');

var _config2 = _interopRequireDefault(_config);

var _controller = require('./controller');

var _controller2 = _interopRequireDefault(_controller);

var _photoInList = require('../components/photoInList');

var _photoInList2 = _interopRequireDefault(_photoInList);

require('../../transversal/externalCalls');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

angular.module('inside.timeline', ['ui.router', 'transversal.externalCalls']).config(_config2.default).controller('TimelineController', _controller2.default).component('instTimePhoto', _photoInList2.default);

},{"../../transversal/externalCalls":12,"../components/photoInList":5,"./config":9,"./controller":10}],12:[function(require,module,exports){
'use strict';

var _service = require('./service');

var _service2 = _interopRequireDefault(_service);

require('../usersManager');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

angular.module('transversal.externalCalls', ['transversal.usersManager']).service('$externalCalls', _service2.default);

},{"../usersManager":14,"./service":13}],13:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

exports.default = function ($usersManager, $http, $q) {
    'ngInject';

    var _url = 'localhost:2222';

    function getPhotosTimeline(page) {
        var _qu = $q.defer();

        var _data = $usersManager.getLoggedUser().followed;

        return $http({
            url: _url + '/photos',
            method: 'GET',
            params: { page: page },
            data: _data
        }).then(backPhotosOK).catch(backPhotosWrong);

        function backPhotosOK(response) {
            if (response.data) {
                _qu.resolve(response.data);
            } else {
                _qu.reject('Nothing found');
            }
        };

        function backPhotosWrong(error) {
            _qu.reject('Error');
        }

        return _qu.promise;
    };
};

},{}],14:[function(require,module,exports){
'use strict';

var _service = require('./service');

var _service2 = _interopRequireDefault(_service);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

angular.module('transversal.usersManager', []).service('$usersManager', _service2.default);

},{"./service":15}],15:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

exports.default = function () {
    'ngInject';

    var _logged;

    function setLoggedUser(user) {
        _logged = user;
    };

    function getLoggedUser() {
        return _logged;
    };

    function loggout() {
        _logged = null;
    }
};

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvaW5kZXguanMiLCJzcmMvZmVhdHVyZXMvY3JlZGVudGlhbHMvbG9naW4vY29uZmlnLmpzIiwic3JjL2ZlYXR1cmVzL2NyZWRlbnRpYWxzL2xvZ2luL2NvbnRyb2xsZXIuanMiLCJzcmMvZmVhdHVyZXMvY3JlZGVudGlhbHMvbG9naW4vaW5kZXguanMiLCJzcmMvZmVhdHVyZXMvaW5zaWRlL2NvbXBvbmVudHMvcGhvdG9Jbkxpc3QvaW5kZXguanMiLCJzcmMvZmVhdHVyZXMvaW5zaWRlL2NvbmZpZy5qcyIsInNyYy9mZWF0dXJlcy9pbnNpZGUvY29udHJvbGxlci5qcyIsInNyYy9mZWF0dXJlcy9pbnNpZGUvaW5kZXguanMiLCJzcmMvZmVhdHVyZXMvaW5zaWRlL3RpbWVsaW5lL2NvbmZpZy5qcyIsInNyYy9mZWF0dXJlcy9pbnNpZGUvdGltZWxpbmUvY29udHJvbGxlci5qcyIsInNyYy9mZWF0dXJlcy9pbnNpZGUvdGltZWxpbmUvaW5kZXguanMiLCJzcmMvZmVhdHVyZXMvdHJhbnN2ZXJzYWwvZXh0ZXJuYWxDYWxscy9pbmRleC5qcyIsInNyYy9mZWF0dXJlcy90cmFuc3ZlcnNhbC9leHRlcm5hbENhbGxzL3NlcnZpY2UuanMiLCJzcmMvZmVhdHVyZXMvdHJhbnN2ZXJzYWwvdXNlcnNNYW5hZ2VyL2luZGV4LmpzIiwic3JjL2ZlYXR1cmVzL3RyYW5zdmVyc2FsL3VzZXJzTWFuYWdlci9zZXJ2aWNlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7O0FDR0EsUUFDSyxNQURMLENBQ1ksT0FEWixFQUNxQixDQUNiLG1CQURhLEVBRWIsUUFGYSxDQURyQjs7Ozs7Ozs7O2tCQ0hlLFVBQVUsY0FBVixFQUEwQixrQkFBMUIsRUFBOEM7QUFDekQsZUFEeUQ7O0FBRXpELHVCQUFtQixTQUFuQixDQUE2QixRQUE3QixFQUZ5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RzdCLFlBQUksUUFBUSxjQUFjLGFBQWQsR0FBOEIsUUFBOUIsQ0FIaUI7O0FBSzdCLGVBQU8sTUFBTTtBQUNULGlCQUFNLE9BQU8sU0FBUDtBQUNOLG9CQUFTLEtBQVQ7QUFDQSxvQkFBUyxFQUFFLE1BQU8sSUFBUCxFQUFYO0FBQ0Esa0JBQU8sS0FBUDtTQUpHLEVBS0osSUFMSSxDQUtDLFlBTEQsRUFNTixLQU5NLENBTUEsZUFOQSxDQUFQLENBTDZCOztBQWE3QixpQkFBUyxZQUFULENBQXNCLFFBQXRCLEVBQWdDO0FBQzVCLGdCQUFHLFNBQVMsSUFBVCxFQUFjO0FBQ2Isb0JBQUksT0FBSixDQUFZLFNBQVMsSUFBVCxDQUFaLENBRGE7YUFBakIsTUFFTztBQUNILG9CQUFJLE1BQUosQ0FBVyxlQUFYLEVBREc7YUFGUDtTQURKLENBYjZCOztBQXFCN0IsaUJBQVMsZUFBVCxDQUF5QixLQUF6QixFQUFnQztBQUM1QixnQkFBSSxNQUFKLENBQVcsT0FBWCxFQUQ0QjtTQUFoQzs7QUFJQSxlQUFPLElBQUksT0FBSixDQXpCc0I7S0FBakMsQ0FMK0M7Q0FBcEM7Ozs7Ozs7Ozs7O0FDRWYsUUFDSyxNQURMLENBQ1ksMEJBRFosRUFDd0MsRUFEeEMsRUFFSyxPQUZMLENBRWEsZUFGYjs7Ozs7Ozs7O2tCQ0ZlLFlBQVk7QUFDdkIsZUFEdUI7O0FBRXZCLFFBQUksT0FBSixDQUZ1Qjs7QUFJdkIsYUFBUyxhQUFULENBQXVCLElBQXZCLEVBQTZCO0FBQ3pCLGtCQUFVLElBQVYsQ0FEeUI7S0FBN0IsQ0FKdUI7O0FBUXZCLGFBQVMsYUFBVCxHQUF5QjtBQUNyQixlQUFPLE9BQVAsQ0FEcUI7S0FBekIsQ0FSdUI7O0FBWXZCLGFBQVMsT0FBVCxHQUFtQjtBQUNmLGtCQUFVLElBQVYsQ0FEZTtLQUFuQjtDQVpXIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImltcG9ydCAnLi4vZmVhdHVyZXMvY3JlZGVudGlhbHMvbG9naW4nO1xuaW1wb3J0ICcuLi9mZWF0dXJlcy9pbnNpZGUnXG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdlbnRyeScsIFtcbiAgICAgICAgJ2NyZWRlbnRpYWxzLmxvZ2luJyxcbiAgICAgICAgJ2luc2lkZSdcbiAgICBdKTsiLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlcikge1xuICAgICduZ0luamVjdCc7XG4gICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnL2xvZ2luJyk7XG5cbiAgICAkc3RhdGVQcm92aWRlci5zdGF0ZSgnbG9naW4nLCB7XG4gICAgICAgIHVybDogJy9sb2dpbicsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnc3JjL2ZlYXR1cmVzL2NyZWRlbnRpYWxzL2xvZ2luL3RlbXBsYXRlLmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnTG9naW5Db250cm9sbGVyIGFzIGxjJ1xuICAgIH0pXG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCR1c2Vyc01hbmFnZXIsICRzdGF0ZSkge1xuICAgICduZ0luamVjdCc7XG4gICAgdmFyIGxjID0gdGhpcztcblxuICAgIGxjLnRyeUxvZ2luID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAkc3RhdGUuZ28oJ2luc2lkZS50aW1lbGluZScpO1xuICAgIH07XG59IiwiaW1wb3J0ICcuLi8uLi90cmFuc3ZlcnNhbC91c2Vyc01hbmFnZXInO1xuaW1wb3J0IGNvbmZpZyBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgY29udHJvbGxlciBmcm9tICcuL2NvbnRyb2xsZXInO1xuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnY3JlZGVudGlhbHMubG9naW4nLCBbXG4gICAgICAgICd1aS5yb3V0ZXInLCAgICAgICAgXG4gICAgICAgICd0cmFuc3ZlcnNhbC51c2Vyc01hbmFnZXInXG4gICAgXSlcbiAgICAuY29uZmlnKGNvbmZpZylcbiAgICAuY29udHJvbGxlcignTG9naW5Db250cm9sbGVyJywgY29udHJvbGxlcik7IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGJpbmRpbmdzOiB7XG4gICAgICAgICAgICBwaG90bzogJzwnXG4gICAgICAgIH0sXG4gICAgICAgIHRlbXBsYXRlOiAnc3JjL2ZlYXR1cmVzL2luc2lkZS9jb21wb25lbnRzL3Bob3RvSW5MaXN0L3RlbXBsYXRlLmh0bWwnXG4gICAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgkc3RhdGVQcm92aWRlcikge1xuICAgICduZ0luamVjdCc7XG4gICAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoJ2luc2lkZScsIHtcbiAgICAgICAgdXJsOiAnL2luc2lkZScsXG4gICAgICAgIGFic3RyYWN0IDogdHJ1ZSxcbiAgICAgICAgdGVtcGxhdGVVcmwgOiAnc3JjL2ZlYXR1cmVzL2luc2lkZS90ZW1wbGF0ZS5odG1sJyxcbiAgICAgICAgY29udHJvbGxlciA6ICdJbnNpZGVDb250cm9sbGVyIGFzIGljJ1xuICAgIH0pXG4gICAgXG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgICduZ0luamVjdCc7XG4gICAgdmFyIGljID0gdGhpcztcbn0iLCJpbXBvcnQgY29uZmlnIGZyb20gJy4vY29uZmlnJztcbmltcG9ydCBjb250cm9sbGVyIGZyb20gJy4vY29udHJvbGxlcic7XG5pbXBvcnQgJy4vdGltZWxpbmUnXG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdpbnNpZGUnLCBbXG4gICAgICAgICd1aS5yb3V0ZXInLFxuICAgICAgICAnaW5zaWRlLnRpbWVsaW5lJyAgICAgICAgXG4gICAgXSlcbiAgICAuY29uZmlnKGNvbmZpZylcbiAgICAuY29udHJvbGxlcignSW5zaWRlQ29udHJvbGxlcicsIGNvbnRyb2xsZXIpOyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgkc3RhdGVQcm92aWRlcikge1xuICAgICduZ0luamVjdCc7XG4gICAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoJ2luc2lkZS50aW1lbGluZScsIHtcbiAgICAgICAgdXJsOiAnL3RpbWVsaW5lJyxcbiAgICAgICAgdGVtcGxhdGVVcmwgOiAnL3NyYy9mZWF0dXJlcy9pbnNpZGUvdGltZWxpbmUvdGVtcGxhdGUuaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXIgOiAnVGltZWxpbmVDb250cm9sbGVyIGFzIHRjJ1xuICAgIH0pXG4gICAgXG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCRleHRlcm5hbENhbGxzKSB7XG4gICAgJ25nSW5qZWN0JztcbiAgICB2YXIgdGMgPSB0aGlzO1xuICAgIFxuICAgIHZhciBfcGFnZSA9IDE7XG4gICAgXG4gICAgdGMucGhvdG9zID0gW3tcbiAgICAgICAgdXNlcl9pZCA6ICd1c3VhcmlvIGRlIHBydWViYScsXG4gICAgICAgIGltYWdlIDogJ2ltZy9wcnVlYmEucG5nJyxcbiAgICAgICAgbGlrZXMgOiAxMjMsXG4gICAgICAgIHRpdGxlIDogJ0J1aCEnXG4gICAgfSwge1xuICAgICAgICB1c2VyX2lkIDogJ3VzdWFyaW8gZGUgcHJ1ZWJhJyxcbiAgICAgICAgaW1hZ2UgOiAnaW1nL3BydWViYS5wbmcnLFxuICAgICAgICBsaWtlcyA6IDEyMyxcbiAgICAgICAgdGl0bGUgOiAnQnVoISdcbiAgICB9XTtcbiAgICBcbiAgICB0Yy5waG90b3NzID0gJGV4dGVybmFsQ2FsbHMuZ2V0UGhvdG9zKF9wYWdlKTtcbiAgICBcbiAgICB0Yy5tb3JlUGhvdG9zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfcGFnZSsrLFxuICAgICAgICB0Yy5waG90b3MucHVzaCgkZXh0ZXJuYWxDYWxscy5nZXRQaG90b3MoX3BhZ2UpKTtcbiAgICB9XG59IiwiaW1wb3J0IGNvbmZpZyBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgY29udHJvbGxlciBmcm9tICcuL2NvbnRyb2xsZXInO1xuaW1wb3J0IGNvbXBvbmVudCBmcm9tICcuLi9jb21wb25lbnRzL3Bob3RvSW5MaXN0JztcbmltcG9ydCAnLi4vLi4vdHJhbnN2ZXJzYWwvZXh0ZXJuYWxDYWxscydcblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ2luc2lkZS50aW1lbGluZScsIFtcbiAgICAgICAgJ3VpLnJvdXRlcicsXG4gICAgICAgICd0cmFuc3ZlcnNhbC5leHRlcm5hbENhbGxzJ1xuICAgIF0pXG4gICAgLmNvbmZpZyhjb25maWcpXG4gICAgLmNvbnRyb2xsZXIoJ1RpbWVsaW5lQ29udHJvbGxlcicsIGNvbnRyb2xsZXIpXG4gICAgLmNvbXBvbmVudCgnaW5zdFRpbWVQaG90bycsIGNvbXBvbmVudCk7IiwiaW1wb3J0IHNlcnZpY2UgZnJvbSAnLi9zZXJ2aWNlJztcbmltcG9ydCAnLi4vdXNlcnNNYW5hZ2VyJztcblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ3RyYW5zdmVyc2FsLmV4dGVybmFsQ2FsbHMnLCBbXG4gICAgICAgICd0cmFuc3ZlcnNhbC51c2Vyc01hbmFnZXInXG4gICAgXSlcbiAgICAuc2VydmljZSgnJGV4dGVybmFsQ2FsbHMnLCBzZXJ2aWNlKTsiLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoJHVzZXJzTWFuYWdlciwgJGh0dHAsICRxKSB7XG4gICAgJ25nSW5qZWN0JztcbiAgICBcbiAgICB2YXIgX3VybCA9ICdsb2NhbGhvc3Q6MjIyMidcbiAgICBcbiAgICBmdW5jdGlvbiBnZXRQaG90b3NUaW1lbGluZShwYWdlKSB7XG4gICAgICAgIHZhciBfcXUgPSAkcS5kZWZlcigpO1xuICAgICAgICBcbiAgICAgICAgdmFyIF9kYXRhID0gJHVzZXJzTWFuYWdlci5nZXRMb2dnZWRVc2VyKCkuZm9sbG93ZWQ7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gJGh0dHAoe1xuICAgICAgICAgICAgdXJsIDogX3VybCArICcvcGhvdG9zJyxcbiAgICAgICAgICAgIG1ldGhvZCA6ICdHRVQnLFxuICAgICAgICAgICAgcGFyYW1zIDogeyBwYWdlIDogcGFnZX0sXG4gICAgICAgICAgICBkYXRhIDogX2RhdGFcbiAgICAgICAgfSkudGhlbihiYWNrUGhvdG9zT0spXG4gICAgICAgIC5jYXRjaChiYWNrUGhvdG9zV3JvbmcpO1xuICAgICAgICBcbiAgICAgICAgZnVuY3Rpb24gYmFja1Bob3Rvc09LKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBpZihyZXNwb25zZS5kYXRhKXtcbiAgICAgICAgICAgICAgICBfcXUucmVzb2x2ZShyZXNwb25zZS5kYXRhKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgX3F1LnJlamVjdCgnTm90aGluZyBmb3VuZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgZnVuY3Rpb24gYmFja1Bob3Rvc1dyb25nKGVycm9yKSB7XG4gICAgICAgICAgICBfcXUucmVqZWN0KCdFcnJvcicpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gX3F1LnByb21pc2U7ICAgICAgICBcbiAgICB9O1xuICAgIFxuICAgIFxufSIsImltcG9ydCBzZXJ2aWNlIGZyb20gJy4vc2VydmljZSc7XG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCd0cmFuc3ZlcnNhbC51c2Vyc01hbmFnZXInLCBbXSlcbiAgICAuc2VydmljZSgnJHVzZXJzTWFuYWdlcicsIHNlcnZpY2UpO1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgICduZ0luamVjdCc7XG4gICAgdmFyIF9sb2dnZWQ7XG5cbiAgICBmdW5jdGlvbiBzZXRMb2dnZWRVc2VyKHVzZXIpIHtcbiAgICAgICAgX2xvZ2dlZCA9IHVzZXI7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGdldExvZ2dlZFVzZXIoKSB7XG4gICAgICAgIHJldHVybiBfbG9nZ2VkO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBsb2dnb3V0KCkge1xuICAgICAgICBfbG9nZ2VkID0gbnVsbDtcbiAgICB9XG59Il19
