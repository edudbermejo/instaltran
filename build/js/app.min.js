(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

require('../features/credentials/login');

require('../features/inside');

angular.module('entry', ['credentials.login', 'inside']);

},{"../features/credentials/login":4,"../features/inside":8}],2:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

exports.default = function ($stateProvider, $urlRouterProvider) {
    'ngInject';

    $urlRouterProvider.otherwise('/login');

    $stateProvider.state('login', {
        url: '/login',
        templateUrl: 'src/features/credentials/login/template.html',
        controller: 'LoginController as lc'
    });
};

},{}],3:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

exports.default = function ($usersManager, $state) {
    'ngInject';

    var lc = this;

    lc.tryLogin = function () {
        $state.go('inside.timeline');
    };
};

},{}],4:[function(require,module,exports){
'use strict';

require('../../transversal/usersManager');

var _config = require('./config');

var _config2 = _interopRequireDefault(_config);

var _controller = require('./controller');

var _controller2 = _interopRequireDefault(_controller);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

angular.module('credentials.login', ['ui.router', 'transversal.usersManager']).config(_config2.default).controller('LoginController', _controller2.default);

},{"../../transversal/usersManager":14,"./config":2,"./controller":3}],5:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

exports.default = function () {
    return {
        bindings: {
            photo: '<'
        },
        template: 'src/features/inside/components/photoInList/template.html'
    };
};

},{}],6:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

exports.default = function ($stateProvider) {
    'ngInject';

    $stateProvider.state('inside', {
        url: '/inside',
        abstract: true,
        templateUrl: 'src/features/inside/template.html',
        controller: 'InsideController as ic'
    });
};

},{}],7:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

exports.default = function () {
    'ngInject';

    var ic = this;
};

},{}],8:[function(require,module,exports){
'use strict';

var _config = require('./config');

var _config2 = _interopRequireDefault(_config);

var _controller = require('./controller');

var _controller2 = _interopRequireDefault(_controller);

require('./timeline');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

angular.module('inside', ['ui.router', 'inside.timeline']).config(_config2.default).controller('InsideController', _controller2.default);

},{"./config":6,"./controller":7,"./timeline":11}],9:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

exports.default = function ($stateProvider) {
    'ngInject';

    $stateProvider.state('inside.timeline', {
        url: '/timeline',
        templateUrl: '/src/features/inside/timeline/template.html',
        controller: 'TimelineController as tc'
    });
};

},{}],10:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

exports.default = function ($externalCalls) {
    'ngInject';

    var tc = this;

    var _page = 1;

    tc.photos = [{
        user_id: 'usuario de prueba',
        image: 'img/prueba.png',
        likes: 123,
        title: 'Buh!'
    }, {
        user_id: 'usuario de prueba',
        image: 'img/prueba.png',
        likes: 123,
        title: 'Buh!'
    }];

    tc.photoss = $externalCalls.getPhotos(_page);

    tc.morePhotos = function () {
        _page++, tc.photos.push($externalCalls.getPhotos(_page));
    };
};

},{}],11:[function(require,module,exports){
'use strict';

var _config = require('./config');

var _config2 = _interopRequireDefault(_config);

var _controller = require('./controller');

var _controller2 = _interopRequireDefault(_controller);

var _photoInList = require('../components/photoInList');

var _photoInList2 = _interopRequireDefault(_photoInList);

require('../../transversal/externalCalls');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

angular.module('inside.timeline', ['ui.router', 'transversal.externalCalls']).config(_config2.default).controller('TimelineController', _controller2.default).component('instTimePhoto', _photoInList2.default);

},{"../../transversal/externalCalls":12,"../components/photoInList":5,"./config":9,"./controller":10}],12:[function(require,module,exports){
'use strict';

var _service = require('./service');

var _service2 = _interopRequireDefault(_service);

require('../usersManager');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

angular.module('transversal.externalCalls', ['transversal.usersManager']).service('$externalCalls', _service2.default);

},{"../usersManager":14,"./service":13}],13:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

exports.default = function ($usersManager, $http, $q) {
    'ngInject';

    var _url = 'localhost:2222';

    function getPhotosTimeline(page) {
        var _qu = $q.defer();

        var _data = $usersManager.getLoggedUser().followed;

        return $http({
            url: _url + '/photos',
            method: 'GET',
            params: { page: page },
            data: _data
        }).then(backPhotosOK).catch(backPhotosWrong);

        function backPhotosOK(response) {
            if (response.data) {
                _qu.resolve(response.data);
            } else {
                _qu.reject('Nothing found');
            }
        };

        function backPhotosWrong(error) {
            _qu.reject('Error');
        }

        return _qu.promise;
    };
};

},{}],14:[function(require,module,exports){
'use strict';

var _service = require('./service');

var _service2 = _interopRequireDefault(_service);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

angular.module('transversal.usersManager', []).service('$usersManager', _service2.default);

},{"./service":15}],15:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

exports.default = function () {
    'ngInject';

    var _logged;

    function setLoggedUser(user) {
        _logged = user;
    };

    function getLoggedUser() {
        return _logged;
    };

    function loggout() {
        _logged = null;
    }
};

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmNcXGluZGV4LmpzIiwic3JjXFxmZWF0dXJlc1xcY3JlZGVudGlhbHNcXGxvZ2luXFxjb25maWcuanMiLCJzcmNcXGZlYXR1cmVzXFxjcmVkZW50aWFsc1xcbG9naW5cXGNvbnRyb2xsZXIuanMiLCJzcmNcXGZlYXR1cmVzXFxjcmVkZW50aWFsc1xcbG9naW5cXGluZGV4LmpzIiwic3JjXFxmZWF0dXJlc1xcaW5zaWRlXFxjb21wb25lbnRzXFxwaG90b0luTGlzdFxcaW5kZXguanMiLCJzcmNcXGZlYXR1cmVzXFxpbnNpZGVcXGNvbmZpZy5qcyIsInNyY1xcZmVhdHVyZXNcXGluc2lkZVxcY29udHJvbGxlci5qcyIsInNyY1xcZmVhdHVyZXNcXGluc2lkZVxcaW5kZXguanMiLCJzcmNcXGZlYXR1cmVzXFxpbnNpZGVcXHRpbWVsaW5lXFxjb25maWcuanMiLCJzcmNcXGZlYXR1cmVzXFxpbnNpZGVcXHRpbWVsaW5lXFxjb250cm9sbGVyLmpzIiwic3JjXFxmZWF0dXJlc1xcaW5zaWRlXFx0aW1lbGluZVxcaW5kZXguanMiLCJzcmNcXGZlYXR1cmVzXFx0cmFuc3ZlcnNhbFxcZXh0ZXJuYWxDYWxsc1xcaW5kZXguanMiLCJzcmNcXGZlYXR1cmVzXFx0cmFuc3ZlcnNhbFxcZXh0ZXJuYWxDYWxsc1xcc2VydmljZS5qcyIsInNyY1xcZmVhdHVyZXNcXHRyYW5zdmVyc2FsXFx1c2Vyc01hbmFnZXJcXGluZGV4LmpzIiwic3JjXFxmZWF0dXJlc1xcdHJhbnN2ZXJzYWxcXHVzZXJzTWFuYWdlclxcc2VydmljZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7OztBQ0dBLFFBQ0ssTUFETCxDQUNZLE9BRFosRUFDcUIsQ0FDYixtQkFEYSxFQUViLFFBRmEsQ0FEckI7Ozs7Ozs7OztrQkNIZSxVQUFVLGNBQVYsRUFBMEIsa0JBQTFCLEVBQThDO0FBQ3pELGVBRHlEOztBQUV6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SSxNQUFNLEdBQUcsS0FBSCxFQUFOLENBRHlCOztBQUc3QixZQUFJLFFBQVEsY0FBYyxhQUFkLEdBQThCLFFBQTlCLENBSGlCOztBQUs3QixlQUFPLE1BQU07QUFDVCxpQkFBTSxPQUFPLFNBQVA7QUFDTixvQkFBUyxLQUFUO0FBQ0Esb0JBQVMsRUFBRSxNQUFPLElBQVAsRUFBWDtBQUNBLGtCQUFPLEtBQVA7U0FKRyxFQUtKLElBTEksQ0FLQyxZQUxELEVBTU4sS0FOTSxDQU1BLGVBTkEsQ0FBUCxDQUw2Qjs7QUFhN0IsaUJBQVMsWUFBVCxDQUFzQixRQUF0QixFQUFnQztBQUM1QixnQkFBRyxTQUFTLElBQVQsRUFBYztBQUNiLG9CQUFJLE9BQUosQ0FBWSxTQUFTLElBQVQsQ0FBWixDQURhO2FBQWpCLE1BRU87QUFDSCxvQkFBSSxNQUFKLENBQVcsZUFBWCxFQURHO2FBRlA7U0FESixDQWI2Qjs7QUFxQjdCLGlCQUFTLGVBQVQsQ0FBeUIsS0FBekIsRUFBZ0M7QUFDNUIsZ0JBQUksTUFBSixDQUFXLE9BQVgsRUFENEI7U0FBaEM7O0FBSUEsZUFBTyxJQUFJLE9BQUosQ0F6QnNCO0tBQWpDLENBTCtDO0NBQXBDOzs7Ozs7Ozs7OztBQ0VmLFFBQ0ssTUFETCxDQUNZLDBCQURaLEVBQ3dDLEVBRHhDLEVBRUssT0FGTCxDQUVhLGVBRmI7Ozs7Ozs7OztrQkNGZSxZQUFZO0FBQ3ZCLGVBRHVCOztBQUV2QixRQUFJLE9BQUosQ0FGdUI7O0FBSXZCLGFBQVMsYUFBVCxDQUF1QixJQUF2QixFQUE2QjtBQUN6QixrQkFBVSxJQUFWLENBRHlCO0tBQTdCLENBSnVCOztBQVF2QixhQUFTLGFBQVQsR0FBeUI7QUFDckIsZUFBTyxPQUFQLENBRHFCO0tBQXpCLENBUnVCOztBQVl2QixhQUFTLE9BQVQsR0FBbUI7QUFDZixrQkFBVSxJQUFWLENBRGU7S0FBbkI7Q0FaVyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJpbXBvcnQgJy4uL2ZlYXR1cmVzL2NyZWRlbnRpYWxzL2xvZ2luJztcclxuaW1wb3J0ICcuLi9mZWF0dXJlcy9pbnNpZGUnXHJcblxyXG5hbmd1bGFyXHJcbiAgICAubW9kdWxlKCdlbnRyeScsIFtcclxuICAgICAgICAnY3JlZGVudGlhbHMubG9naW4nLFxyXG4gICAgICAgICdpbnNpZGUnXHJcbiAgICBdKTsiLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlcikge1xyXG4gICAgJ25nSW5qZWN0JztcclxuICAgICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy9sb2dpbicpO1xyXG5cclxuICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCdsb2dpbicsIHtcclxuICAgICAgICB1cmw6ICcvbG9naW4nLFxyXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnc3JjL2ZlYXR1cmVzL2NyZWRlbnRpYWxzL2xvZ2luL3RlbXBsYXRlLmh0bWwnLFxyXG4gICAgICAgIGNvbnRyb2xsZXI6ICdMb2dpbkNvbnRyb2xsZXIgYXMgbGMnXHJcbiAgICB9KVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCR1c2Vyc01hbmFnZXIsICRzdGF0ZSkge1xyXG4gICAgJ25nSW5qZWN0JztcclxuICAgIHZhciBsYyA9IHRoaXM7XHJcblxyXG4gICAgbGMudHJ5TG9naW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJHN0YXRlLmdvKCdpbnNpZGUudGltZWxpbmUnKTtcclxuICAgIH07XHJcbn0iLCJpbXBvcnQgJy4uLy4uL3RyYW5zdmVyc2FsL3VzZXJzTWFuYWdlcic7XHJcbmltcG9ydCBjb25maWcgZnJvbSAnLi9jb25maWcnO1xyXG5pbXBvcnQgY29udHJvbGxlciBmcm9tICcuL2NvbnRyb2xsZXInO1xyXG5cclxuYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnY3JlZGVudGlhbHMubG9naW4nLCBbXHJcbiAgICAgICAgJ3VpLnJvdXRlcicsICAgICAgICBcclxuICAgICAgICAndHJhbnN2ZXJzYWwudXNlcnNNYW5hZ2VyJ1xyXG4gICAgXSlcclxuICAgIC5jb25maWcoY29uZmlnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ0xvZ2luQ29udHJvbGxlcicsIGNvbnRyb2xsZXIpOyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgYmluZGluZ3M6IHtcclxuICAgICAgICAgICAgcGhvdG86ICc8J1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdGVtcGxhdGU6ICdzcmMvZmVhdHVyZXMvaW5zaWRlL2NvbXBvbmVudHMvcGhvdG9Jbkxpc3QvdGVtcGxhdGUuaHRtbCdcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgkc3RhdGVQcm92aWRlcikge1xyXG4gICAgJ25nSW5qZWN0JztcclxuICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCdpbnNpZGUnLCB7XHJcbiAgICAgICAgdXJsOiAnL2luc2lkZScsXHJcbiAgICAgICAgYWJzdHJhY3QgOiB0cnVlLFxyXG4gICAgICAgIHRlbXBsYXRlVXJsIDogJ3NyYy9mZWF0dXJlcy9pbnNpZGUvdGVtcGxhdGUuaHRtbCcsXHJcbiAgICAgICAgY29udHJvbGxlciA6ICdJbnNpZGVDb250cm9sbGVyIGFzIGljJ1xyXG4gICAgfSlcclxuICAgIFxyXG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xyXG4gICAgJ25nSW5qZWN0JztcclxuICAgIHZhciBpYyA9IHRoaXM7XHJcbn0iLCJpbXBvcnQgY29uZmlnIGZyb20gJy4vY29uZmlnJztcclxuaW1wb3J0IGNvbnRyb2xsZXIgZnJvbSAnLi9jb250cm9sbGVyJztcclxuaW1wb3J0ICcuL3RpbWVsaW5lJ1xyXG5cclxuYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnaW5zaWRlJywgW1xyXG4gICAgICAgICd1aS5yb3V0ZXInLFxyXG4gICAgICAgICdpbnNpZGUudGltZWxpbmUnICAgICAgICBcclxuICAgIF0pXHJcbiAgICAuY29uZmlnKGNvbmZpZylcclxuICAgIC5jb250cm9sbGVyKCdJbnNpZGVDb250cm9sbGVyJywgY29udHJvbGxlcik7IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCRzdGF0ZVByb3ZpZGVyKSB7XHJcbiAgICAnbmdJbmplY3QnO1xyXG4gICAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoJ2luc2lkZS50aW1lbGluZScsIHtcclxuICAgICAgICB1cmw6ICcvdGltZWxpbmUnLFxyXG4gICAgICAgIHRlbXBsYXRlVXJsIDogJy9zcmMvZmVhdHVyZXMvaW5zaWRlL3RpbWVsaW5lL3RlbXBsYXRlLmh0bWwnLFxyXG4gICAgICAgIGNvbnRyb2xsZXIgOiAnVGltZWxpbmVDb250cm9sbGVyIGFzIHRjJ1xyXG4gICAgfSlcclxuICAgIFxyXG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCRleHRlcm5hbENhbGxzKSB7XHJcbiAgICAnbmdJbmplY3QnO1xyXG4gICAgdmFyIHRjID0gdGhpcztcclxuICAgIFxyXG4gICAgdmFyIF9wYWdlID0gMTtcclxuICAgIFxyXG4gICAgdGMucGhvdG9zID0gW3tcclxuICAgICAgICB1c2VyX2lkIDogJ3VzdWFyaW8gZGUgcHJ1ZWJhJyxcclxuICAgICAgICBpbWFnZSA6ICdpbWcvcHJ1ZWJhLnBuZycsXHJcbiAgICAgICAgbGlrZXMgOiAxMjMsXHJcbiAgICAgICAgdGl0bGUgOiAnQnVoISdcclxuICAgIH0sIHtcclxuICAgICAgICB1c2VyX2lkIDogJ3VzdWFyaW8gZGUgcHJ1ZWJhJyxcclxuICAgICAgICBpbWFnZSA6ICdpbWcvcHJ1ZWJhLnBuZycsXHJcbiAgICAgICAgbGlrZXMgOiAxMjMsXHJcbiAgICAgICAgdGl0bGUgOiAnQnVoISdcclxuICAgIH1dO1xyXG4gICAgXHJcbiAgICB0Yy5waG90b3NzID0gJGV4dGVybmFsQ2FsbHMuZ2V0UGhvdG9zKF9wYWdlKTtcclxuICAgIFxyXG4gICAgdGMubW9yZVBob3RvcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBfcGFnZSsrLFxyXG4gICAgICAgIHRjLnBob3Rvcy5wdXNoKCRleHRlcm5hbENhbGxzLmdldFBob3RvcyhfcGFnZSkpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IGNvbmZpZyBmcm9tICcuL2NvbmZpZyc7XHJcbmltcG9ydCBjb250cm9sbGVyIGZyb20gJy4vY29udHJvbGxlcic7XHJcbmltcG9ydCBjb21wb25lbnQgZnJvbSAnLi4vY29tcG9uZW50cy9waG90b0luTGlzdCc7XHJcbmltcG9ydCAnLi4vLi4vdHJhbnN2ZXJzYWwvZXh0ZXJuYWxDYWxscydcclxuXHJcbmFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2luc2lkZS50aW1lbGluZScsIFtcclxuICAgICAgICAndWkucm91dGVyJyxcclxuICAgICAgICAndHJhbnN2ZXJzYWwuZXh0ZXJuYWxDYWxscydcclxuICAgIF0pXHJcbiAgICAuY29uZmlnKGNvbmZpZylcclxuICAgIC5jb250cm9sbGVyKCdUaW1lbGluZUNvbnRyb2xsZXInLCBjb250cm9sbGVyKVxyXG4gICAgLmNvbXBvbmVudCgnaW5zdFRpbWVQaG90bycsIGNvbXBvbmVudCk7IiwiaW1wb3J0IHNlcnZpY2UgZnJvbSAnLi9zZXJ2aWNlJztcclxuaW1wb3J0ICcuLi91c2Vyc01hbmFnZXInO1xyXG5cclxuYW5ndWxhclxyXG4gICAgLm1vZHVsZSgndHJhbnN2ZXJzYWwuZXh0ZXJuYWxDYWxscycsIFtcclxuICAgICAgICAndHJhbnN2ZXJzYWwudXNlcnNNYW5hZ2VyJ1xyXG4gICAgXSlcclxuICAgIC5zZXJ2aWNlKCckZXh0ZXJuYWxDYWxscycsIHNlcnZpY2UpOyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgkdXNlcnNNYW5hZ2VyLCAkaHR0cCwgJHEpIHtcclxuICAgICduZ0luamVjdCc7XHJcbiAgICBcclxuICAgIHZhciBfdXJsID0gJ2xvY2FsaG9zdDoyMjIyJ1xyXG4gICAgXHJcbiAgICBmdW5jdGlvbiBnZXRQaG90b3NUaW1lbGluZShwYWdlKSB7XHJcbiAgICAgICAgdmFyIF9xdSA9ICRxLmRlZmVyKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdmFyIF9kYXRhID0gJHVzZXJzTWFuYWdlci5nZXRMb2dnZWRVc2VyKCkuZm9sbG93ZWQ7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuICRodHRwKHtcclxuICAgICAgICAgICAgdXJsIDogX3VybCArICcvcGhvdG9zJyxcclxuICAgICAgICAgICAgbWV0aG9kIDogJ0dFVCcsXHJcbiAgICAgICAgICAgIHBhcmFtcyA6IHsgcGFnZSA6IHBhZ2V9LFxyXG4gICAgICAgICAgICBkYXRhIDogX2RhdGFcclxuICAgICAgICB9KS50aGVuKGJhY2tQaG90b3NPSylcclxuICAgICAgICAuY2F0Y2goYmFja1Bob3Rvc1dyb25nKTtcclxuICAgICAgICBcclxuICAgICAgICBmdW5jdGlvbiBiYWNrUGhvdG9zT0socmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgaWYocmVzcG9uc2UuZGF0YSl7XHJcbiAgICAgICAgICAgICAgICBfcXUucmVzb2x2ZShyZXNwb25zZS5kYXRhKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF9xdS5yZWplY3QoJ05vdGhpbmcgZm91bmQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgXHJcbiAgICAgICAgZnVuY3Rpb24gYmFja1Bob3Rvc1dyb25nKGVycm9yKSB7XHJcbiAgICAgICAgICAgIF9xdS5yZWplY3QoJ0Vycm9yJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBfcXUucHJvbWlzZTsgICAgICAgIFxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbn0iLCJpbXBvcnQgc2VydmljZSBmcm9tICcuL3NlcnZpY2UnO1xyXG5cclxuYW5ndWxhclxyXG4gICAgLm1vZHVsZSgndHJhbnN2ZXJzYWwudXNlcnNNYW5hZ2VyJywgW10pXHJcbiAgICAuc2VydmljZSgnJHVzZXJzTWFuYWdlcicsIHNlcnZpY2UpO1xyXG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XHJcbiAgICAnbmdJbmplY3QnO1xyXG4gICAgdmFyIF9sb2dnZWQ7XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0TG9nZ2VkVXNlcih1c2VyKSB7XHJcbiAgICAgICAgX2xvZ2dlZCA9IHVzZXI7XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIGdldExvZ2dlZFVzZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIF9sb2dnZWQ7XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIGxvZ2dvdXQoKSB7XHJcbiAgICAgICAgX2xvZ2dlZCA9IG51bGw7XHJcbiAgICB9XHJcbn0iXX0=
